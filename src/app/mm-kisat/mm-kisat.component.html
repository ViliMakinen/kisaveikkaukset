
<div class="main-content-container">
  <div class="title-container">
    <h1>{{ tournament.name }}</h1>
  </div>
  <div>
    <button class="clickable" mat-raised-button (click)="fillPredictions()">T채yt채 veikkaukset</button>
    <button class="clickable" mat-raised-button (click)="unlockPredictions()">Avaa veikkaukset</button>
    <button
      *ngIf="!userService.arePredictionsLocked"
      [class.clickable]="!userService.arePredictionsLocked"
      mat-raised-button
      class="lock-button"
      (click)="lockPredictions()"
      [disabled]="arePredictionsIncomplete()"
    >
      Lukitse veikkaukset
    </button>
    <span *ngIf="arePredictionsIncomplete()" matTooltip="T채yt채 kaikki veikkaukset!" class="material-symbols-outlined"> <mat-icon>info</mat-icon> </span>
  </div>
  <mat-tab-group>
    <mat-tab [label]="group.name" *ngFor="let group of tournament.groups">
      <div class="match-container">
        <div *ngFor="let match of group.matches" class="match-row">
          <span class="teams">{{ match.home }} - {{ match.away }} </span> <span class="match-date"> {{ match.date | date: 'dd.MM.yyyy' }} <mat-icon class="icon">schedule</mat-icon> {{ match.date | date: 'HH:mm' }}  </span
          ><span
            ><mat-button-toggle-group [disabled]="userService.arePredictionsLocked" (change)="saveResult(match.id, $event.value)">
              <mat-button-toggle value="1">1</mat-button-toggle>
              <mat-button-toggle value="X">X</mat-button-toggle>
              <mat-button-toggle value="2">2</mat-button-toggle>
            </mat-button-toggle-group>
          </span>
        </div>
      </div>
      <div class="group-container">
        <div class="group-title-container"><span class="text-margin">Joukkue</span><span class="text-margin">Pisteet</span></div>
        <div *ngFor="let team of getGroup(group.name).teams" class="group-row">
          <span class="row-box">{{ team.name }}</span
          ><span class="row-box">{{ team.points }}</span>
        </div>
      </div></mat-tab
    >
  </mat-tab-group>
</div>
