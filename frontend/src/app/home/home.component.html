<ng-container *ngIf="tournament !== null && group !== null">
  <div class="main-content">
    <div class="tournament-info-container">
      <div class="info-box"><span class="box-title">Ryhmän nimi</span><span> {{group.name}}</span></div>
      <div class="info-box">
        <div>Liittymiskoodi</div>
        <div class="lettering-container"><span class="letter-box" *ngFor="let letter of groupCode"> {{letter}} </span>
        </div>
        <button (click)="copyCode()" class="clickable button" mat-raised-button>kopioi</button>
      </div>
      <div class="info-box"><span class="box-title">Turnausmuoto</span><span> {{tournament.name}}</span></div>
    </div>
    <ng-container *ngIf="!hasTournamentStarted()">
      <div class="countdown-title">Lähtölaskenta</div>
      <div class="countdown-container">
          <span class="countdown-item">
            <div>Päivät</div>
            <div class="value">{{ days }}</div>
          </span>
        <span class="countdown-item">
            <div>Tunnit</div>
            <div class="value">{{ hours }}</div>
          </span>
        <span class="countdown-item">
            <div>Minuutit</div>
            <div class="value">{{ minutes }}</div>
          </span>
        <span class="countdown-item">
            <div>Sekunnit</div>
            <div class="value">{{ seconds }}</div>
          </span>
      </div>
    </ng-container>
    <div class="button-container">
      <button [routerLink]="['./tournament']" class="clickable button" mat-raised-button>
        <mat-icon>arrow_left</mat-icon>
        Veikkauksiin
      </button>
    </div>
    <div class="matches-today-and-user-standings-container">
      <div class="standings-container">
        <div class="standings-title-container">
          Pistetilanne
          <mat-icon matTooltip="Viimeksi päivitetty: x">update</mat-icon>
        </div>
        <div *ngFor="let user of sortUsers(group.users)" class="standings-row-container">
          <span class="standings-row-box">{{ user.firstName }} {{user.lastName[0]}} </span>
          <span class="standings-row-box">{{ user.points }}</span>
        </div>
      </div>
      <div class="games-today-container">
        <ng-container *ngIf="hasTournamentStarted()">
          <div class="games-today-title-container">
            Päivän matsit
            <mat-icon>today</mat-icon>
            {{ today | date: 'dd.MM.yyyy' }}
          </div>
        </ng-container>
        <ng-container *ngIf="!hasTournamentStarted()">
          <div class="games-today-title-container">
            Turnaus alkaa
            <mat-icon>today</mat-icon>
            {{ tournament.startingDate | date: 'dd.MM.yyyy' }}
          </div>
        </ng-container>
        <div class="games-today-row-container" *ngFor="let game of gamesToday">
            <span class="games-today-row-box"> <img [src]="'assets/images/4x3/' + fetchFlag(game.home) + '.svg'"
                                                    alt="home team flag" class="flag-image"/> {{ game.home }}</span>
          <span class="games-today-row-box"> {{ game.date | date: 'HH:mm' }}</span>
          <span class="games-today-row-box"> {{ game.away }} <img
            [src]="'assets/images/4x3/' + fetchFlag(game.away) + '.svg'" alt="away team flag"
            class="flag-image"/></span>
        </div>
      </div>
    </div>
    <mat-divider></mat-divider>
    <div class="tab-group-title">Lohkotilanteet</div>
    <mat-tab-group>
      <mat-tab [label]="group.name" *ngFor="let group of tournament.groups">
        <div class="group-container">
          <div class="group-title-container"><span class="text-margin">Joukkue</span><span
            class="text-margin">Pisteet</span></div>
          <div *ngFor="let team of group.teams" class="group-row">
              <span class="row-box"> <img [src]="'assets/images/4x3/' + fetchFlag(team.name) + '.svg'" alt="team flag"
                                          class="flag-image"/> {{ team.name }}</span>
            <span class="row-box">{{ team.points }}</span>
          </div>
        </div>
      </mat-tab>
    </mat-tab-group>
  </div>
</ng-container>
